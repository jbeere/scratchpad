<lift:surround with="default" at="content" xmlns:ball="http://www.w3.org/1999/xhtml">
    <canvas id="canvas" width="300" height="300"></canvas>
    <script language="javascript" type="text/javascript">
        <![CDATA[
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');

        var x = 0.5;
        var y = 0.5;
        var s = 0.02;

        var w = canvas.width;
        var h = canvas.height;

        function set(xVal, yVal) {
            x = xVal;
            y = yVal;
            draw();
        }

        function draw() {
            ctx.fillStyle = 'rgb(0, 0, 0)';
            ctx.save();

            ctx.fillRect(0, 0, w, h)

            ctx.fillStyle = 'rgb(255, 255, 255)'
            drawCircle(x * w, y * h, s * h);
            ctx.restore();
        }

        function drawCircle(x, y, r) {
            ctx.beginPath();
            ctx.arc(x, y, r, 0, Math.PI * 2, true);
            ctx.closePath();
            ctx.fill();
        }

        var xd = 1;
        var yd = 1;

        set(x + 0.01 * xd, y + 0.02 * yd);

        /*function animate() {
         if (x > 1 || x < 0) xd *= -1;
         if (y > 1 || y < 0) yd *= -1;
         set(x + 0.01 * xd, y + 0.02 * yd);
         setTimeout("animate()", 100)
         }

         animate();*/


        ]]>
    </script>
    <p>
        <lift:comet type="CometBall"/>
    </p>
</lift:surround>

